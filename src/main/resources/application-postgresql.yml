# Spring application configuration
spring:
  application:
    # Logical name for the app, useful in logs and monitoring tools
    name: spring-petclinic

  # Datasource configuration for PostgreSQL
  datasource:
    # Connection URL, defaults to local Postgres if POSTGRES_URL env var not set
    url: ${POSTGRES_URL:jdbc:postgresql://localhost/petclinic}
    # Database username, defaults to 'petclinic' if POSTGRES_USER not set
    username: ${POSTGRES_USER:petclinic}
    # Database password, defaults to 'petclinic' if POSTGRES_PASS not set
    password: ${POSTGRES_PASS:petclinic}
    # Explicit driver class for PostgreSQL (ensures compatibility across environments)
    driver-class-name: org.postgresql.Driver

  # SQL initialization settings
  sql:
    init:
      # Always run schema/data scripts at startup; safe because scripts are idempotent
      mode: always

  # JPA and Hibernate configuration
  jpa:
    hibernate:
      # Auto-update schema based on entity definitions (convenient for dev, risky in production)
      ddl-auto: update
    # Log SQL statements for debugging and transparency
    show-sql: true
    properties:
      hibernate:
        # Dialect ensures Hibernate generates SQL optimized for PostgreSQL
        dialect: org.hibernate.dialect.PostgreSQLDialect
        # Pretty-print SQL in logs for readability
        format_sql: true

#  Configuring server port
server:
  port: 8080
